{% extends 'store/base.html' %}

{% block content %}
<style>
    .admin-form-container { background: #f8f9fa; min-height: 90vh; padding: 50px 0; }
    .form-card {
        background: #fff; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.03);
        padding: 40px; max-width: 800px; margin: 0 auto;
    }
    .form-label { font-weight: 700; font-size: 0.85rem; color: #555; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px; }
    .clean-input {
        background-color: #fcfcfc; border: 1px solid #e0e0e0; border-radius: 10px; padding: 14px; transition: 0.3s;
    }
    .clean-input:focus { border-color: #006837; background-color: #fff; box-shadow: 0 0 0 4px rgba(0, 104, 55, 0.1); outline: none; }
    
    .multi-select-box {
        height: 150px; background-color: #fcfcfc; border: 1px solid #e0e0e0; border-radius: 10px; padding: 10px;
    }
    .multi-select-box option { padding: 8px; border-radius: 6px; margin-bottom: 2px; }
    .multi-select-box option:checked { background-color: #006837; color: white; }

    .btn-submit {
        background: linear-gradient(135deg, #006837 0%, #004d29 100%);
        color: white; border: none; padding: 15px; border-radius: 50px; width: 100%; font-weight: 700; letter-spacing: 1px; margin-top: 20px; transition: 0.3s;
    }
    .btn-submit:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 104, 55, 0.3); }
</style>

<div class="admin-form-container">
    <div class="container">
        <a href="{% url 'admin_dashboard' %}" class="text-decoration-none text-muted fw-bold mb-4 d-inline-block">
            <i class="fas fa-arrow-left me-2"></i> Back to Dashboard
        </a>

        <div class="form-card">
            <h3 class="fw-bold text-dark mb-4 border-bottom pb-3">Add New Product</h3>
            
            <!-- MESSAGE BLOCK REMOVED -->

            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="row g-4">
                    <div class="col-md-8">
                        <label class="form-label">Product Name</label>
                        <input type="text" name="name" class="form-control clean-input" placeholder="e.g. Zinger Burger" required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Price (Rs)</label>
                        <input type="number" name="price" class="form-control clean-input" placeholder="0.00" required>
                    </div>
                    
                    <div class="col-12">
                        <label class="form-label">Select Categories <small class="text-muted text-transform-none fw-normal ms-2">(Hold Ctrl to select multiple)</small></label>
                        <select name="categories" class="form-select multi-select-box" multiple required>
                            {% for cat in categories %}
                            <option value="{{ cat.id }}">{{ cat.name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-12">
                        <label class="form-label">Description</label>
                        <textarea name="description" class="form-control clean-input" rows="3" placeholder="Enter product details..."></textarea>
                    </div>

                    <div class="col-12">
                        <label class="form-label">Product Image</label>
                        <input type="file" name="image" class="form-control clean-input" required>
                    </div>

                    <div class="col-12">
                        <button type="submit" class="btn-submit">PUBLISH PRODUCT</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}